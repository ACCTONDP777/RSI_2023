@model IEnumerable<RSI.Models.Entity.DetailApprove>
@{
    Layout = null;
}
@{ 
    var overview = (ViewData["phase_id"].ToString().Equals("40") || ViewData["phase_id"].ToString().Equals("45")) ? "" : "hidden"; 
}
<div class="box box-primary" style="background: transparent; margin-top:15px;">
    <div class="box-header with-border">
        <h3 class="box-title">
            Approval List <button class="btn bg-light-blue btn-sm @overview" onclick="ShowDetailLayer1()"><i class="fa fa-info-circle" aria-hidden="true"></i> OverView</button>
        </h3>
        <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse">
                <i class="fa fa-minus"></i>
            </button>
        </div>
    </div>
    <div class="box-body">
        <div class="row">
            <div class="col-md-12 table-responsive">
                <table class="table">
                    <thead>
                        <tr class="bg-light-blue">
                            <th class="text-center" style="max-width:10%;">SEQ</th>
                            <th class="text-center" style="max-width:10%;">Process Name</th>
                            <th class="text-center" style="max-width:10%;">Approver</th>
                            <th class="text-center" style="max-width:10%;">Actual Approver</th>
                            <th class="text-center" style="max-width:10%;">Status</th>
                            <th class="text-center" style="max-width:10%;">Comment</th>
                            <th class="text-center" style="max-width:10%;">Begin Date</th>
                            <th class="text-center" style="max-width:10%;">End Date</th>
                            <th class="text-center" style="max-width:10%;">Working Days</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td style="max-width:10%;">@item.APP_SERIAL</td>
                                <td style="max-width:10%;">@item.PHASE</td>
                                <td style="max-width:10%;">@item.APP_ASSIGNER_NAME</td>
                                <td style="max-width:10%;">@item.APP_ACTOR_NAME</td>
                                <td style="max-width:10%;">@item.STATUS</td>
                                <td style="max-width:10%; word-break: break-all;">@item.APP_CONTENT</td>
                                <td style="max-width:10%;">@item.BEGIN_DATE</td>
                                <td style="max-width:10%;">@item.END_DATE</td>
                                <td style="max-width:10%;" class="text-right">@item.DIF_DAY</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

    </div>
</div>

<script>
    function ShowDetailLayer1()
    {
        var rsi_no = $('#RSI_NO').val();
        var phase_id = '40';
        var form_status = 'U';
        var bu = $('#BU').val();
        var part_type = $('#PartType').val();
        var projectname = $("#PROJECT_NAME").val();
        var url = "/RSI/RSI/DetailLayer1SourcerView?rsi_no={0}&phase_id={1}&form_status={2}&bu={3}&part_type={4}&projectname={5}";
        url = url.replace("{0}", rsi_no).replace("{1}", phase_id).replace("{2}", form_status).replace("{3}", bu).replace('{4}', part_type).replace('{5}', projectname);
        window.open(url, "_blank", "width=800,height=600,scrollbars=yes,resizable=yes");
    }
</script>


